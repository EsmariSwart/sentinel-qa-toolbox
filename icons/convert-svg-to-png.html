<!DOCTYPE html>
<html>
<head>
  <title>Convert SVG to PNG - Sentinel QA Icon</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: 0 auto;
    }
    #svgContainer {
      margin: 20px 0;
      text-align: center;
    }
    #svgContainer svg {
      width: 200px;
      height: 200px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      background: #03592a;
      color: white;
      border: none;
      border-radius: 4px;
    }
    button:hover {
      background: #02401f;
    }
  </style>
</head>
<body>
  <h2>Convert SVG Icon to PNG</h2>
  <p>This will convert the dark green QA drawer icon to a 128x128 PNG for Chrome extension use.</p>
  <p><strong>Note:</strong> Open this file using a local web server or file:// protocol. Some browsers may block local file access for security.</p>
  <button onclick="convertToPNG()">Convert & Download icon128.png</button>
  <div id="svgContainer" style="margin: 20px 0;"></div>
  <canvas id="iconCanvas" width="128" height="128" style="border: 1px solid #ccc; margin-top: 20px; display: none;"></canvas>
  
  <script>
    // Embed the SVG directly to avoid CORS issues
    const svgContent = `<?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools --><svg fill="#03592a" width="800px" height="800px" viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg"><path d="M287 435q-42 0-74.5 18.5t-51 52.5-18.5 77 18.5 76.5 51.5 52 74 18.5q38 0 67-15l-92-92h74l60 59q16-18 24-39 11-26 11-60 0-43-18.5-77T361 453.5 287 435zm590-328h-57q-10 0-19.5-5T786 89l-39-72q-6-8-14.5-12.5t-18-4.5T696 4.5 682 17l-39 72q-6 8-15 13t-19 5h-58q-33 0-61 16.5t-44.5 45T429 230v56H123q-34 0-62 16.5T16.5 347 0 408v362q0 33 16.5 61.5t44.5 45 62 16.5h69q11 0 20 5t15 13l26 72q6 8 14.5 12.5t18.5 4.5 18.5-4.5T318 983l27-72q6-8 15-13t19-5h70q33 0 61-16.5t44.5-45T572 770v-56h305q34 0 62-16.5t44.5-44.5 16.5-61V230q0-33-16.5-61.5t-44.5-45-62-16.5zM426 786l-29-30q-46 30-110 30-58 0-104.5-26.5t-73-73T83 583t26.5-103.5 73-73.5 104-27T391 406t73.5 73.5T491 583q0 82-54 140l63 63h-74zm503-194q0 21-15.5 36T877 643H571v-52h14l42-94h168l41 94h64L715 177 571 482v-74q0-35-19-65.5T500 297v-67q0-21 15-36t36-15h70q22 0 34.5-7t20.5-21q6-9 14-31 7-18 11-26.5t13.5-8.5 12.5 8l10 27q10 28 15 36 8 13 19.5 18t36.5 5h69q21 0 36.5 15t15.5 36v362zM652 440l60-132 59 132H652z"/></svg>`;
    
    function convertToPNG() {
      // Create an image from the SVG
      const svgBlob = new Blob([svgContent], { type: 'image/svg+xml;charset=utf-8' });
      const url = URL.createObjectURL(svgBlob);
      const img = new Image();
      
      img.onload = function() {
        const canvas = document.getElementById('iconCanvas');
        const ctx = canvas.getContext('2d');
        
        // Clear and draw the SVG image
        ctx.clearRect(0, 0, 128, 128);
        ctx.drawImage(img, 0, 0, 128, 128);
        
        // Convert to PNG and download
        canvas.toBlob(function(blob) {
          const downloadUrl = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = downloadUrl;
          a.download = 'icon128.png';
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(downloadUrl);
          URL.revokeObjectURL(url);
          
          alert('icon128.png downloaded! Save it in the icons/ folder.');
        }, 'image/png');
      };
      
      img.onerror = function() {
        alert('Error loading SVG. Please try again.');
      };
      
      img.src = url;
    }
    
    // Display the SVG for preview
    window.onload = function() {
      document.getElementById('svgContainer').innerHTML = svgContent;
    };
  </script>
</body>
</html>
